<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Marius Bank</title>
    <style>
        body {
            background-color: #f4f4f4;
            font-family: Arial, sans-serif;
            font-size: 16px;
            color: #2b2b2b;
            margin: 0;
        }

        /* Header styling */
        header {
            background-color: #1e60ae;
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
        }

        /* Marius Bank title styling */
        .title {
            font-size: 36px;
            margin: 0;
            padding: 0;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        /* Login button styling */
        .button {
            background-color: #3f92f6;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            padding: 10px 20px;
            margin-right: 20px;
            cursor: pointer;
        }

        .button:hover {
            background-color: #1e60ae;
        }

        /* Navigation menu styling */
        nav {
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px;
        }

        .menu-item {
            text-decoration: none;
            color: #2b2b2b;
            font-size: 18px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 10px;
            transition: color 0.2s ease-in-out;
        }

        .menu-item:hover {
            color: #3f92f6;
        }

        /* Footer styling */
        footer {
            background-color: #1e60ae;
            color: #fff;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 20px;
        }

    </style>
</head>
<body>
<header>
    <h1 class="title">Marius Bank</h1>
    <button class="button">Log In</button>
</header>

<nav>
    <a class="menu-item" href="#">How to Save Up Today</a>
    <a class="menu-item" href="#">What Is Your Retirement Going to Look Like?</a>
    <a class="menu-item" href="#">Save Up for Your Kids</a>
</nav>

<div id="financial-news" style="background-color: #f4f4f4; color: #2b2b2b; padding: 40px;">
    <h2>Latest Financial News</h2>
    <p>The Dow Jones Industrial Average hit a new all-time high today as the stock market rose.
        Investors reacted favorably to good earnings results from numerous big firms, which led to rises for the S&P 500
        and Nasdaq. </p>
    <p>The Federal Reserve said that it would maintain interest rates at their current levels in the meantime, citing
        ongoing economic expansion and low inflation.
        Analysts highlighted that the Fed has recently adopted a cautious stance toward interest rate policy, therefore
        this decision was generally anticipated. </p>
    <p>Many investors are upbeat about the outlook for the economy and the markets going forward.
        With the ongoing vaccination campaign and the prospect of additional stimulus measures, there is a sense that
        the worst of the pandemic may be behind us. </p>
    <p>Of course, there are still many challenges ahead, and it's important to stay informed and make wise financial
        decisions. Whether you're investing for retirement, buying a home, or just looking to save for a rainy day,
        Marius Bank is here to help. Our expert advisors can help you navigate the complex world of finance and make the
        most of your money. Contact us today to learn more! </p>
</div>

<div class="news" style="background-color: #f4f4f4; color: #2b2b2b; padding: 40px;">
    <h2>Marius Bank Wins Bank of the Year Award</h2>
    <p>QuillBot will rewrite your text. Start by writing or pasting something here and then press the Paraphrase
        button. </p>
    <p>The award is a testament to the hard work and dedication of Marius Bank's employees and leadership team. It is
        also a reflection of the trust that our customers have placed in us, and the confidence that our shareholders
        have in our ability to grow and succeed in the years ahead.</p>
    <p>The honor is a reflection of the leadership team and staff at Marius Bank's hard work and dedication.
        It also symbolizes the faith that our clients have in us and the belief that our stockholders have in our
        capacity to develop and prosper in the years to come. </p>
</div>

<div id="ceo-announcement" style="background-color: #f4f4f4; color: #2b2b2b; padding: 40px;">
    <h2>Breaking News: Marius Bank CEO Wins Nobel Prize!</h2>
    <p>We are delighted to inform that John Smith, the CEO of Marius Bank, has won the Nobel Prize in Economics for his
        seminal contributions to behavioral finance. </p>
    <p>Smith's research has helped to change the way we think about banking and investing and has provided new insight
        into how psychological factors influence financial decision-making. </p>
    <p>Smith's knowledge and commitment to developing economics are recognized by this prestigious award.
        We are happy to have him as our CEO and are hopeful that he will lead Marius Bank to future success. </p>
</div>

<div id="content"
     style="background-color: #1E60AE; color: #fff; padding: 20px; position: absolute; bottom: 80px; left: 0; right: 0;">
    <p>Welcome to Marius Bank! We are dedicated to providing you with the best banking services possible.</p>
    <p>With Marius Bank, you can manage your finances easily and securely.</p>
</div>

<div id="footer"
     style="background-color: #1E60AE; color: #fff; padding: 20px; position: fixed; bottom: 0; left: 0; right: 0;">
    <p>&copy; 2023 Marius Bank. All rights reserved.</p>
</div>

<script>
    const inactivityTimeoutDuration = 500000; // Set timeout in milliseconds
    const chatWidgetUrl = "https://cdn.jsdelivr.net/npm/rasa-webchat@1.0.1/lib/index.js";
    const initialPayload = "/bot_challenge_intent";
    const language = "en";
    const socketUrl = "http://localhost:5005";

    let isChatOpening = false;
    let inactivityTimeout;

    const startInactivityTimer = () => {
        inactivityTimeout = setTimeout(clearCacheAndOpenChatWidget, inactivityTimeoutDuration);
    };

    const resetInactivityTimer = () => {
        clearTimeout(inactivityTimeout);
        startInactivityTimer();
    };

    const clearCache = () => {
        sessionStorage.clear();
        localStorage.clear();
        document.cookie = "";
    };

    const clearCacheAndOpenChatWidget = () => {
        clearCache();
        openChatWidget();
    };

    const focusOnChatInput = () => {
        const chatInput = document.querySelector('.rw-new-message');
        if (chatInput) chatInput.focus();
    };

    const openChatWidget = () => {
        if (!isChatOpening) {
            isChatOpening = true;

            const scriptElement = document.createElement("script");
            const headElement = document.head || document.getElementsByTagName("head")[0];
            scriptElement.src = chatWidgetUrl;
            scriptElement.async = true;
            scriptElement.onload = () => {
                window.WebChat.default(
                    {
                        initPayload: initialPayload,
                        customData: {language: language},
                        socketUrl: socketUrl,
                    },
                    null
                );
                setTimeout(() => {
                    const chatButton = document.querySelector('.rw-launcher');
                    const chatConversation = document.querySelector('.rw-conversation');

                    if (chatButton && !chatConversation) {
                        chatButton.click();
                        focusOnChatInput();
                    }
                }, 1000);
            };
            headElement.insertBefore(scriptElement, headElement.firstChild);

            // Set isChatOpening back to false after the chat window is opened
            setTimeout(() => {
                isChatOpening = false;
            }, 2000);
        }
    };


    window.addEventListener("load", () => {
        resetInactivityTimer();
        clearCacheAndOpenChatWidget();

        document.addEventListener("click", resetInactivityTimer);
        window.addEventListener("pageshow", (event) => {
            if (!event.persisted) {
                setTimeout(() => {
                    if (!isChatOpening) {
                        openChatWidget();
                    }
                }, 1000);
            }
        });

        document.addEventListener("mousemove", resetInactivityTimer);
        document.addEventListener("keydown", resetInactivityTimer);

        const performanceNavigationTiming = performance.getEntriesByType("navigation")[0];
        if (performanceNavigationTiming.type === "reload" && !performanceNavigationTiming.toJSON().workerStart) {
            clearCacheAndOpenChatWidget();
        }
    });
</script>

</body>
</html>
