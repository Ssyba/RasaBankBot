version: "3.1"

stories:
- story: Login form
  steps:
  - intent: login_intent
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: cnp_slot
  - slot_was_set:
    - requested_slot: password_slot
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: submit_login_form

- story: New user form
  steps:
  - intent: new_user_intent
  - action: new_user_form
  - active_loop: new_user_form
  - slot_was_set:
    - requested_slot: cnp_slot
  - slot_was_set:
    - requested_slot: name_slot
  - slot_was_set:
    - requested_slot: surname_slot
  - slot_was_set:
    - requested_slot: age_slot
  - slot_was_set:
    - requested_slot: password_slot
  - slot_was_set:
    - requested_slot: password_validation_slot
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - active_loop: submit_new_user_form

- story: Transfer funds - affirm the transfer
  steps:
  - intent: transfer_funds_intent
  - action: transfer_funds_form
  - active_loop: transfer_funds_form
  - action: transfer_funds_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: submit_transfer_funds_form
  - intent: affirm_intent
  - slot_was_set:
    - confirm_transfer_slot: True
  - action: transfer_funds_form
  - active_loop: transfer_funds_form
  - action: transfer_funds_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: submit_transfer_funds_form

- story: Transfer funds - deny the transfer
  steps:
  - intent: transfer_funds_intent
  - action: transfer_funds_form
  - active_loop: transfer_funds_form
  - action: transfer_funds_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: submit_transfer_funds_form
  - intent: deny_intent
  - slot_was_set:
    - confirm_transfer_slot: False
  - action: transfer_funds_form
  - active_loop: transfer_funds_form
  - action: transfer_funds_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: submit_transfer_funds_form

- story: Pay my bills story
  steps:
  - intent: pay_my_bills_intent
  - action: action_show_my_bills
  - action: action_set_confirm_pay_bills_slot
  - action: pay_my_bills_form
  - active_loop: pay_my_bills_form
  - slot_was_set:
    - requested_slot: confirm_pay_bills_slot
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: submit_pay_my_bills_form
  - action: action_listen

- story: Pay my gas bill story
  steps:
  - intent: pay_my_gas_bill_intent
  - action: action_show_my_gas_bill
  - action: action_set_confirm_pay_bills_slot
  - action: pay_my_gas_bill_form
  - active_loop: pay_my_gas_bill_form
  - slot_was_set:
    - requested_slot: confirm_pay_bills_slot
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: submit_pay_my_gas_bill_form
  - action: action_listen

- story: Pay my electricity bill story
  steps:
  - intent: pay_my_electricity_bill_intent
  - action: action_show_my_electricity_bill
  - action: action_set_confirm_pay_bills_slot
  - action: pay_my_electricity_bill_form
  - active_loop: pay_my_electricity_bill_form
  - slot_was_set:
    - requested_slot: confirm_pay_bills_slot
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: submit_pay_my_electricity_bill_form
  - action: action_listen

- story: Pay my water bill story
  steps:
  - intent: pay_my_water_bill_intent
  - action: action_show_my_water_bill
  - action: action_set_confirm_pay_bills_slot
  - action: pay_my_water_bill_form
  - active_loop: pay_my_water_bill_form
  - slot_was_set:
    - requested_slot: confirm_pay_bills_slot
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: submit_pay_my_water_bill_form
  - action: action_listen

- story: Pay my rent bill story
  steps:
  - intent: pay_my_rent_bill_intent
  - action: action_show_my_rent_bill
  - action: action_set_confirm_pay_bills_slot
  - action: pay_my_rent_bill_form
  - active_loop: pay_my_rent_bill_form
  - slot_was_set:
    - requested_slot: confirm_pay_bills_slot
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: submit_pay_my_rent_bill_form
  - action: action_listen
